<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Inicio</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body style="margin: 0; background: url('Imagenes/Fondo.png') no-repeat center center fixed; background-size: cover;">
        <header class="bg-info fixed-top shadow" style="z-index: 1000;">
            <div class="container-fluid">
                <div class="row align-items-center py-2">
                    <div class="col-6 d-flex justify-content-start">
                        <img src="https://obraseducativas.lasallemadrid.es/wp-content/uploads/2022/10/La_Salle-madrid_institucion.png" class="img-fluid" style="height: 70px;">
                    </div>
                    <div class="col-6 d-flex justify-content-end">
                        <img src="https://cdn-icons-png.flaticon.com/512/2943/2943210.png" class="img-fluid" style="height: 70px;">
                    </div>
                </div>
            </div>
        </header>
        <div class="container d-flex flex-column align-items-center justify-content-center" style="min-height: 100vh;">
            <div class="bg-danger p-4 rounded text-center w-100 w-md-50">
                <h4 class="text-white">Ingrese un c√≥digo:</h4>
                <div class="d-flex justify-content-center gap-2">
                    <input type="text" class="form-control text-center border border-dark fs-3 codigo-input" maxlength="1">
                    <input type="text" class="form-control text-center border border-dark fs-3 codigo-input" maxlength="1">
                    <input type="text" class="form-control text-center border border-dark fs-3 codigo-input" maxlength="1">
                    <input type="text" class="form-control text-center border border-dark fs-3 codigo-input" maxlength="1">
                    <input type="text" class="form-control text-center border border-dark fs-3 codigo-input" maxlength="1">
                </div>
            </div>
            <div class="mt-5 position-relative">
                <img src="Imagenes/confirmo.png"  class="img-fluid" id="imagenConfirmar" style="max-width: 150px; pointer-events: none;">
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () 
            {
                const inputs = document.querySelectorAll(".codigo-input");
                const imagenConfirmar = document.getElementById("imagenConfirmar");
                const CODIGO_CORRECTO = "LSAl1";
                inputs.forEach((input, index) => 
                {
                    input.addEventListener("input", function () 
                    {
                        if (this.value.length === 1 && index < inputs.length - 1) 
                        {
                            inputs[index + 1].focus();
                        }
                        validarCodigo();
                    }
                    );
                    input.addEventListener("keydown", function (event) 
                    {
                        if (event.key === "Backspace" && index > 0 && this.value === "") 
                        {
                            inputs[index - 1].focus();
                        }
                    }
                    );
                }
                );
                function validarCodigo() 
                {
                    let codigoIngresado = "";
                    inputs.forEach(input => codigoIngresado += input.value);
                    if (codigoIngresado.length === 5 && codigoIngresado === CODIGO_CORRECTO) 
                    {
                        imagenConfirmar.style.pointerEvents = "auto";
                    } 
                    else 
                    {
                        imagenConfirmar.style.pointerEvents = "none";
                    }
                }
                imagenConfirmar.addEventListener("click", function () 
                {
                    if (imagenConfirmar.style.pointerEvents === "auto") 
                    {
                        window.location.href = "EDLB.html";
                    }
                }
                );
            }
            );
        </script>
    </body>
</html>